@model DancingGoat.Personalization.IsInPersonaViewModel

<link rel="stylesheet" type="text/css" href="~/Content/Personalization/ConditionTypes/IsInPersona.css">
<form asp-controller="IsInPersona" asp-action="Validate">
    @if (Model.AllPersonas.Count == 0)
    {
        <span class="persona-selector-dialog no-personas">@HtmlLocalizer["No personas to select."]</span>
    }
    else
    {
        <ul class="persona-selector-dialog">
            @for (var index = 0; index < Model.AllPersonas.Count; index++)
            {
                var persona = Model.AllPersonas[index];
                <li>
                    <label for="@Html.IdFor(x => x.AllPersonas[index])" class="line-wrapper">
                        <span class="ktc-radio">
                            <input id="@Html.IdFor(x => x.AllPersonas[index])"
                                   type="radio"
                                   name="@Html.NameFor(x => x.PersonaCodeName)"
                                   @(persona.Selected ? "checked" : String.Empty)
                                   value="@persona.CodeName">
                            <label for="@Html.IdFor(x => x.AllPersonas[index])"></label>
                        </span>

                        <span class="persona-details">
                            <img src="@persona.ImagePath" alt="@persona.DisplayName" title="@persona.DisplayName" />
                            @persona.DisplayName
                        </span>
                    </label>
                </li>
            }
        </ul>
    }
</form>
